<!DOCTYPE html>
<html>
<head>
<title>jQuery Symfony Collection</title>
<link href="http://getbootstrap.com/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link href="http://getbootstrap.com/dist/css/bootstrap-theme.min.css"
	rel="stylesheet">
<script
	src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<script src="../src/jquery.sf-collection.js"></script>
</head>
<body>
	<div class="container">
		<h2>Collection with some entries</h2>
		<div class="container-fluid">
			<div id="element1"
				data-collection-name="collection"
				data-allow-add="1"
				data-allow-delete="1"
				data-prototype="&lt;div class=&quot;form-group&quot;&gt;&lt;div class=&quot;col-sm-12&quot;&gt;&lt;div id=&quot;collection___name__&quot;&gt;&lt;div class=&quot;form-group&quot;&gt;&lt;label for=&quot;collection___name___entry&quot;class=&quot;col-sm-2 control-label required&quot;&gt;Entry __name__ Field&lt;/label&gt;&lt;div class=&quot;col-sm-10&quot;&gt;&lt;input type=&quot;number&quot; class=&quot;form-control&quot;required=&quot;required&quot; name=&quot;collection[__name__][field]&quot;id=&quot;collection___name___entry&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"
				data-prototype-name="__name__"
				data-prototype-add="&lt;button type=&quot;submit&quot; class=&quot;btn btn-sm btn-default&quot;&gt;Add&lt;/button&gt;"
				data-prototype-remove="&lt;button type=&quot;submit&quot; class=&quot;btn btn-sm btn-warning&quot;&gt;Remove&lt;/button&gt;"
			>
				<div class="form-group">
					<div class="col-sm-12">
						<div id="collection_100">
							<div class="form-group">
								<label for="collection_100_entry"
									class="col-sm-2 control-label required">Entry 100 Field</label>
								<div class="col-sm-10">
									<input type="number" class="form-control"
										required="required" name="collection[100][field]"
										id="collection_100_entry">
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-12">
						<div id="collection_1000">
							<div class="form-group">
								<label for="collection_1000_entry"
									class="col-sm-2 control-label required">Entry 1000 Field</label>
								<div class="col-sm-10">
									<input type="number" class="form-control"
										required="required" name="collection[1000][field]"
										id="collection_1000_entry">
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<h2>Collection with advanced buttons</h2>
		<div class="container-fluid">
			<div id="element2"
				data-collection-name="collection"
				data-allow-add="1"
				data-allow-delete="1"
				data-prototype="&lt;div class=&quot;form-group&quot;&gt;&lt;div class=&quot;row&quot;&gt;&lt;div id=&quot;collection___name__&quot;&gt;&lt;div class=&quot;form-group&quot;&gt;&lt;label for=&quot;collection___name___entry&quot;class=&quot;col-sm-2 control-label required&quot;&gt;Entry __name__ Field&lt;/label&gt;&lt;div class=&quot;col-sm-8&quot;&gt;&lt;input type=&quot;number&quot; class=&quot;form-control&quot; required=&quot;required&quot;name=&quot;collection[3][field]&quot; id=&quot;collection___name___entry&quot;&gt;&lt;/div&gt;&lt;div class=&quot;col-sm-2&quot;&gt;&lt;button type=&quot;submit&quot; class=&quot;btn btn-sm btn-default add-entry&quot;&gt;Add&lt;/button&gt;&lt;button type=&quot;submit&quot; class=&quot;btn btn-sm btn-warning remove-entry&quot;&gt;Remove&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"
				data-prototype-name="__name__"
			>
				<div class="row actions text-right">
					<span class="btn-group">
						<a href="#add" class="btn btn-default">Add</a>
						<a href="#clear" class="btn btn-danger">Clear</a>
					</span>
				</div>
			</div>
		</div>
		
		<h2>Minimal Collection (no data-* property)</h2>
		<div class="container-fluid">
			<div id="element3"
				 data-prototype="&lt;div class=&quot;form-group&quot;&gt;&lt;div class=&quot;col-sm-12&quot;&gt;&lt;div id=&quot;collection___name__&quot;&gt;&lt;div class=&quot;form-group&quot;&gt;&lt;label for=&quot;collection___name___entry&quot;class=&quot;col-sm-2 control-label required&quot;&gt;Entry __name__ Field&lt;/label&gt;&lt;div class=&quot;col-sm-10&quot;&gt;&lt;input type=&quot;number&quot; class=&quot;form-control&quot;required=&quot;required&quot; name=&quot;collection[__name__][field]&quot;id=&quot;collection___name___entry&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"
			 >
			</div>
		</div>
	</div>

	<script>
        $(function() {
            $("#element1").sfcollection();
            $("#element2").sfcollection({
                add: function (event, data) {
                  	console.log("triggered add to the outside", event, data);
                },
                remove: function (event, data) {
                    console.log("triggered remove to the outside", event, data);
                },
                initRemoveButton: function (collection, entry) {
                    if (entry) {
                    	// init local add button
                    	return entry.find('button.remove-entry');
                    }

                    // init global button
                    return collection.find('.actions a[href="#clear"]');

                },
                initAddButton: function (collection, entry) {
                    if (entry) {
                        // init local add button
                        return entry.find('button.add-entry')
                    }

                    // init global button
                    return collection.find('.actions a[href="#add"]');
                },
            });
            $("#element3").sfcollection({
                collectionName: 'collection'
            });
        });
    </script>
</body>
</html>
